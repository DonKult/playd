.\" Copyright (c) 2010, Aldis Berjoza <aldis@bsdroot.lv>
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions are
.\" met:
.\"
.\" * Redistributions of source code must retain the above copyright
.\"   notice, this list of conditions and the following disclaimer.
.\" * Redistributions in binary form must reproduce the above
.\"   copyright notice, this list of conditions and the following disclaimer
.\"   in the documentation and/or other materials provided with the
.\"   distribution.
.\" * Neither the name of the  nor the names of its
.\"   contributors may be used to endorse or promote products derived from
.\"   this software without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
.\" "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
.\" LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
.\" A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
.\" OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
.\" SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
.\" LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
.\" OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd August 7, 2010
.Dt playd 1
.Os
.\"#############################################################################
.Sh NAME
.Nm playd
.Nd Simple to use mplayer wrapper script written in sh
.\"#############################################################################
.Sh SYNOPSIS
.Nm
.Op Cm --append
.Op Ar commands | files | directories | streans
.\"#############################################################################
.Sh DESCRIPTION
.Nm
is a simple mplayer wrapper script wirtten in pure /bin/sh.  With 
.Nm
you don't need mplayer gui, to listen to music, watch wideos, stream
video/audio.
.Nm
stores its playlist is simple plain text files, containing file names with
absolute path.
.Nm
automatically creates playlist if necessary.  It is easy to integrate
.Nm
in various window managers (i.e. fvwm2, fluxbox), scripts etc.
.Pp
.Nm
is designed K.I.S.S.
.Bl -tag
.It Goal is to be small, fast and very easy to use.
.It The goal is not to be as foolproof as possible.
.El
.\"#############################################################################
.Sh COMMANDS
Commands can be mixed almost in any order. There's only one limit: 
.Cm --append
must be 1st argument, if specified.
.Bl -tag -width indent
.\"=============================================================================
.It Cm --append
Append items to default playlist. Must be first argument on command line if
used.
.\"=============================================================================
.It Cm --audio-delay Xo
.Ar value
.Op Cm --absolute
.Xc
Adjust audio delay in seconds (relative by default). If
.Cm --absolute
is set, then audio delay will be set exactly to value in seconds.
.\"=============================================================================
.It Cm --cd Xo
.Op track
.Xc
Play audio CD. (Can't append to playlist)
.\"=============================================================================
.It Cm --cmd Xo
.Ar 'mplayer command'
.Xc
Send command to mplayer slave directly. If command contains spaces, it should
be quoted.
.Pp
.Lk http://www.mplayerhq.hu/DOCS/tech/slave.txt "Mplayer slave mode protocol"
.\"=============================================================================
.It Cm --brightness Xo
.Ar value
.Op Cm --absolute
.Xc
Adjust brightness by value (relative by default).  If 
.Cm --absolute
key is specified, brightness will be set to absolute value. Value can be in
range -100 to 100.
.\"=============================================================================
.It Cm --contrast Xo
.Ar value
.Op Cm --absolute
.Xc
Adjust contrast by value (relative by default).  If
.Cm --absolute
key is specified, contrast will be set to absolute value. Value can be in
range -100 to 100.
.\"=============================================================================
.It Cm --dvd Xo
.Op Ar track
.Xc
Play video DVD. (Can't append to playlist)
.\"=============================================================================
.It Cm --file Xo
.Ar file | directory
.Xc
Play file or directory. This option is handy if you have file name that match
playd command
.\"=============================================================================
.It Cm --gamma Xo
.Ar value
.Op Cm --absolute
.Xc
Adjust gamma by value (relative by default). If
.Cm --absolute
key is specified, gamma will be set to absolute value. Value can be in range
-100 to 100.
.\"=============================================================================
.It Cm --hue Xo
.Ar value
.Op Cm --absolute
.Xc
Adjust hue by value (relative by default).  If
.Cm --absolute
key is specified, hue will be set to absolute value. Value can be in range
-100 to 100.
.\"=============================================================================
.It Cm --list
Show default playlist.
.\"=============================================================================
.It Cm --longlist
Show default playlist. Each item is displayed with full path.
.\"=============================================================================
.It Cm --mute
Mute mplayer slave.
.\"=============================================================================
.It Cm --next
Play next playlist item.
.\"=============================================================================
.It Cm --nocheck Xo
.Ar file
.Xc
There are some files that are reported as application/octet-stream. These can
be various types, even text files. If you can't load some files, you can try to
use this option. It won't check for file type and extension. This can be very
useful for disk images. Note, that you need to set 
.Cm --nocheck
for every file you want playd to skip filetype checks.
.\"=============================================================================
.It Cm --pause
Pause mplayer slave.
.\"=============================================================================
.It Cm --play Xo
.Ar item1
.Op Ar item2
.Ar ...
.Xc
Play items from default playlist.
.\"=============================================================================
.It Cm --playlist
Play default playlist. Mplayer slave will be automatically started if necessary.
.\"=============================================================================
.It Cm --randomize
This will randomize playlist, but won't start playing it... you'll need to run 
.Nm
.Cm --playlist
to load new playlist.
.\"=============================================================================
.It Cm --restart Xo
.Op Cm --console
.Op Cm --nofork
.Xc
Sometimes playd doesn't listen to your commands. Actually playd does listen,
while mplayer doesn't. So if you don't get expected behavior from playd, please
run 
.Nm 
.Cm --restart
and check if everything works. Only send bug report if same problem appears
after restart. If 
.Cm --console
is set, mplayer will only output sound. If 
.Cm --fork
is set, playd will show mplayer output to current terminal.
.\"=============================================================================
.It Cm --rmlist
Remove default playlist.
.\"=============================================================================
.It Cm --seek Xo 
.Ar value
.Op Cm --absolute | --precent
.Xc
Seek current file to value. If 
.Cm --absolute
is specified, seek to absolute value in seconds. If 
.Cm --precent
is specified, seek to value percent. By default mplayer slave will seek
relative in seconds. You many use modifiers (multipliers) to enter value...
such as
.Cm y, M, w, d, h, m, s
[years, Months, weeks, days, hours, minutes, seconds] (in order mentioned) 
.Pp
For example: playd --seek -1m30s
.\"=============================================================================
.It Cm --sarution Xo
.Ar value
.Op Cm --absolute
.Xc
Adjust sarution by value (relative by default).
If 
.Cm --absolute
key is specified, sarution will be set to absolute value.
Value can be in range -100 to 100.
.\"=============================================================================
.It Cm --start Xo
.Op Cm --console
.Op Cm --nofork
.Xc
Start mplayer slave. You won't probably need to use this, because mplayer
slave is started automatically when needed. If 
.Cm --console
is set, mplayer will only output sound. If
.Cm --nofork
is set, playd will show mplayer output to current terminal.
.\"=============================================================================
.It Cm --status
Check if mplayer is started in slave mode.
.\"=============================================================================
.It Cm --subtitles Xo
.Ar file
.Xc
Load subtitles. This option doesn't check for filetype.
.\"=============================================================================
.It Cm --stop
Stop mplayer slave.
.\"=============================================================================
.It Cm --switch-audio
Cycle through the available audio tracks. (for DVD)
.\"=============================================================================
.It Cm --switch-subtitle
Cycle through the available subtitle tracks. (for DVD)
.\"=============================================================================
.It Cm --volume Xo
.Ar value
.Op Cm --absolute
.Xc
Adjust volume by value (relative by default). If 
.Cm --absolute
key is specified, volume will be set to absolute value. Value can be 0 - 100
.Pp
NOTE: on FreeBSD mplayer will reset volume after you seek in file. To avoid
this you should set \fBhw.snd.vpc_autoreset=0\fP in your \fI/etc/sysctl.conf\fP under FreeBSD
.\"=============================================================================
.It Ar file | directory | stream | playlist
play file, directory, stream or playlist. Mplayer will be automatically
started in slave mode, if necessary.
.\"=============================================================================
.El
.\"#############################################################################
.Sh "COMMAND ALIASES"
Every command that starts with 
.Cm --
, has alias witout it (they aren't mentioned here)

   \ --absolute			                  	abs
   \ --append		      -a
   \ --cd                 -c                cdda
   \ --dvd                -d
   \ --file               -f
   \ --help               -h
   \ --list               -l
   \ --longlist           -L   --llist
   \ --mute               -m
   \ --next               -n
   \ --pause              -z
   \ --percent                              %
   \ --play               -p
   \ --playlist           -P
   \ --randomize               --rnd 
   \ --restart            -R
   \ --seek               -s
   \ --stop               -q
   \ --subtitles          -S   --subs
   \ --switch-audio            --sw-audio
   \ --switch-subtitles        --sw-subs
   \ --volume             -v   --vol
.\"#############################################################################
.Sh ENVIRONMENT
Set PLAYD_MPLAYER_USER_OPTIONS, to add custom command line options passed to
mplayer, when it's started.

Set PLAYD_HOME, if you want to change playd home directory.

By default it will use ~/.mplayer
.\"#############################################################################
.Sh EXIT STATUS
.Ex -std
.\"#############################################################################
.Sh EXAMPLES
	playd /my/mysic

	playd --append /mysic/1.mp3 /music/3.mp3

	playd play 1 3 5

	playd http://yp.shoutcast.com/sbin/tunein-station.pls?id=656847

	playd stop
.\"#############################################################################
.Sh SUPPORTED MEDIA FILE FORMATS:
Basically everything supported by mplayer should be supoprted by playd. But
since I had to figure out file extensions myself if some extensions are
missing, please send a bug report to
.Ar playd@bsdroot.lv
.\"#############################################################################
.Sh SUPPORTED PLAYLISTS
As of V1.7.10 playd has basic support for fallowing playlist file formats:

pls, m3u, m3u8, asx, xspf, ram, plst, qtl, wax, wpl

NOTE: plst is simple file, with filenames/links (one per line). Somethimes,
when you want to create sample playlist for internet steams, for example,
it is very handy to put urls in plst.  Very simple and fast :)
.\"#############################################################################
.Sh HOMEPAGE
.Lk http://wiki.bsdroot.lv/playd "Playd wiki page"
.Lk http://aldis.git.bsdroot.lv/playd.sh "Playd git repository"
.\"#############################################################################
.Sh SEE ALSO
.Xr mplayer 1 ,
.Xr sh 1
.\"#############################################################################
.Sh AUTHORS
.An -nosplit
.An Aldis Berjoza Aq playd@bsdroot.lv
.\"#############################################################################
.Sh BUGS
Seams 
.Cm --play
doesn't work well (if at all) after using
.Cm --next
or
.Cm --seek
I think it's mplayer bug (still testing if it's
.Nm
bug). After restarting playd, everything seams work as expected.
.Pp
Read 
.Cm --restart
.\" vim: set ts=4 sw=4:
